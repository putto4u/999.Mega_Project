:max-width: 100%
= 하이브리드 클라우드 인프라 설계 및 구성 명세서

본 문서는 오픈스택(OpenStack) 프라이빗 클라우드와 퍼블릭 클라우드를 연계한 하이브리드 인프라의 최종 설계안을 담고 있습니다.   
모든 구성은 교재 형식에 맞추어 최적화되었습니다.

---

== 1. 네트워크 및 시스템 아키텍처 개요

본 인프라는 관리/서비스 대역과 데이터/복제 전용 대역을 논리적으로 격리하여 데이터 충돌을 방지하고 보안성을 극대화한 구조입니다.   
특히 Django 기반의 현대적인 웹 스택을 채택하여 AI 서빙 및 비동기 작업 처리에 최적화되었습니다.

* **VLAN 10/20 (Service/Mgmt):** 서버 제어 및 외부 서비스 접속 대역 (`192.168.10.0/24`)
* **VLAN 30 (Storage/DB Sync):** Ceph 복제 및 DB 동기화 전용 데이터 대역 (`192.168.30.0/24`)

---

== 2. 하이브리드 인프라 통합 상세 구성 목록 (Wide-Viewport)

[cols="6,3,2,2,4", options="header"]
|===
|호스트 |VM No. |서비스/관리 IP (VLAN 10/20) |스토리지 IP (VLAN 30) |용도 및 통합 명칭 (Django/Hybrid/Storage Stack)

|**SRV-01** |VM-01 |**192.168.10.11** | - |**Cloud Master Controller**: OpenStack 제어부 및 인프라 통합 DNS (Bind9)
|**SRV-02** |VM-02 |**192.168.10.12** | - |**Hybrid Gateway**: AWS/GCP VPN 터널링 엔드포인트 및 IaC 제어 (Terraform)
|**SRV-03** |VM-03 |**192.168.10.13** |**192.168.30.13** |**Distributed Storage-01**: Ceph OSD 분산 노드 및 NFS 공유 파일 시스템
|**SRV-04** |VM-04 |**192.168.10.14** |**192.168.30.14** |**Distributed Storage-02**: Ceph OSD 및 S3 API 호환 Object Storage Gateway
|**SRV-05** |VM-05 |**192.168.10.15** |**192.168.30.15** |**Integrated DB Master**: PostgreSQL & MySQL 통합 데이터 소스 마스터 노드
|**SRV-06** |VM-06 |**192.168.10.16** |**192.168.30.16** |**Standby DB Slave**: 실시간 데이터 복제(Replication) 및 재해 복구 전용 노드
|**SRV-07** |VM-07 |**192.168.10.17** | - |**Django Web/App-01**: Nginx + Gunicorn 기반 Python 웹 프레임워크 메인 엔진
|**SRV-08** |VM-08 |**192.168.10.18** | - |**Django Web/App-02**: 고가용성 보장을 위한 L4/L7 로드밸런싱 실습 및 확장 노드
|**SRV-09** |VM-09 |**192.168.10.19** | - |**K8s Control Plane**: Kubernetes 클러스터 관리 및 컨테이너 오케스트레이션 제어
|**SRV-10** |VM-10 |**192.168.10.20** |**192.168.30.20** |**K8s Worker Node**: 포드(Pod) 실행 및 Ceph CSI 기반 퍼시스턴트 볼륨 연동
|**SRV-11** |VM-11 |**192.168.10.21** | - |**DevOps Center**: Jenkins CI/CD 파이프라인 및 Python venv 개발 환경 통합
|**SRV-12** |VM-12 |**192.168.10.22** | - |**AI Model Serving**: Django/FastAPI 기반 인공지능 모델 추론 및 API 서빙 노드
|**SRV-13** |VM-13 |**192.168.10.23** | - |**Asynchronous Task**: Redis 메시지 브로커 및 Celery 비동기 작업 처리 엔진
|**SRV-14** |VM-14 |**192.168.10.24** | - |**Full-Stack Monitor**: Prometheus & Grafana & ELK 기반 통합 인프라 관제
|**SRV-15** |VM-15 |**192.168.10.25** | - |**Security & Scale Pool**: HashiCorp Vault 비밀 관리 및 하이브리드 오토스케일링 풀
|===

---

== 3. 주요 설계 특징 및 구축 가이드

=== 3.1 VLAN 30 데이터 독립성 확보
`VM-03, 04, 05, 06, 10` 노드는 대량의 데이터 I/O를 발생시킵니다. 이들은 **VLAN 30** 전용 인터페이스를 통해 통신함으로써 서비스 대역의 지연 시간(Latency)을 원천 차단합니다.

=== 3.2 Django + Celery 비동기 아키텍처
실습 부하가 적은 환경임을 고려하여 Nginx와 Gunicorn을 단일 VM에 통합하되, AI 추론이나 하이브리드 클라우드 스캐닝과 같은 무거운 작업은 `VM-13(Redis/Celery)`으로 위임하는 구조를 구현합니다.

# [IMPORTANT]

# **네트워크 설정 팁:** 각 호스트의 물리 NIC를 본딩(Bonding)하여 VLAN을 태깅(Tagging) 방식으로 수용하면 물리적 선로 부족 문제를 해결하고 대역폭 가용성을 높일 수 있습니다.

link:[https://docs.openstack.org/neutron/latest/](https://docs.openstack.org/neutron/latest/)[출처: OpenStack Networking Advanced Design] +
link:[https://docs.djangoproject.com/en/stable/howto/deployment/wsgi/gunicorn/](https://www.google.com/search?q=https://docs.djangoproject.com/en/stable/howto/deployment/wsgi/gunicorn/)[출처: Django Production Deployment with Gunicorn]

---

Next: VLAN 30 기반의 PostgreSQL 스트리밍 복제 및 Django DB 라우팅 설정

단답형 핵심어: VLAN 30 데이터망, Django 통합 아키텍처, Ceph OSD 복제, 하이브리드 클라우드 게이트웨이.
